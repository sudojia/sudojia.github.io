"use strict";var _allowQueryString,_allowExternalLinks,_useWhitelist,_lastTouchTimestamp,_mouseoverTimer,_chromiumMajorVersionInUserAgent=null,_delayOnHover=65,_preloadedList=new Set,DELAY_TO_NOT_BE_CONSIDERED_A_TOUCH_INITIATED_ACTION=1111;function init(){var e,t,n,o,i,a,r,s;document.createElement("link").relList.supports("prefetch")&&(t="instantVaryAccept"in document.body.dataset||"Shopify"in window,-1<(e=navigator.userAgent.indexOf("Chrome/"))&&(_chromiumMajorVersionInUserAgent=parseInt(navigator.userAgent.substring(e+"Chrome/".length))),t&&_chromiumMajorVersionInUserAgent&&_chromiumMajorVersionInUserAgent<110||(e="instantMousedownShortcut"in document.body.dataset,_allowQueryString="instantAllowQueryString"in document.body.dataset,_allowExternalLinks="instantAllowExternalLinks"in document.body.dataset,_useWhitelist="instantWhitelist"in document.body.dataset,i=o=n=!(t={capture:!0,passive:!0}),"instantIntensity"in document.body.dataset&&((a=document.body.dataset.instantIntensity).startsWith("mousedown")?(n=!0,"mousedown-only"==a&&(o=!0)):a.startsWith("viewport")?(s=navigator.connection&&navigator.connection.saveData,r=navigator.connection&&navigator.connection.effectiveType&&navigator.connection.effectiveType.includes("2g"),s||r||("viewport"==a?document.documentElement.clientWidth*document.documentElement.clientHeight<45e4&&(i=!0):"viewport-all"==a&&(i=!0))):(s=parseInt(a),isNaN(s)||(_delayOnHover=s))),o||document.addEventListener("touchstart",touchstartListener,t),n?e||document.addEventListener("mousedown",mousedownListener,t):document.addEventListener("mouseover",mouseoverListener,t),e&&document.addEventListener("mousedown",mousedownShortcutListener,t),i&&(window.requestIdleCallback||function(e){e()})(function(){var t=new IntersectionObserver(function(e){e.forEach(function(e){e.isIntersecting&&(e=e.target,t.unobserve(e),preload(e.href))})});document.querySelectorAll("a").forEach(function(e){isPreloadable(e)&&t.observe(e)})},{timeout:1500})))}function touchstartListener(e){_lastTouchTimestamp=performance.now();e=e.target.closest("a");isPreloadable(e)&&preload(e.href,"high")}function mouseoverListener(e){var t;performance.now()-_lastTouchTimestamp<DELAY_TO_NOT_BE_CONSIDERED_A_TOUCH_INITIATED_ACTION||"closest"in e.target&&isPreloadable(t=e.target.closest("a"))&&(t.addEventListener("mouseout",mouseoutListener,{passive:!0}),_mouseoverTimer=setTimeout(function(){preload(t.href,"high"),_mouseoverTimer=void 0},_delayOnHover))}function mousedownListener(e){e=e.target.closest("a");isPreloadable(e)&&preload(e.href,"high")}function mouseoutListener(e){e.relatedTarget&&e.target.closest("a")==e.relatedTarget.closest("a")||_mouseoverTimer&&(clearTimeout(_mouseoverTimer),_mouseoverTimer=void 0)}function mousedownShortcutListener(e){var t;performance.now()-_lastTouchTimestamp<DELAY_TO_NOT_BE_CONSIDERED_A_TOUCH_INITIATED_ACTION||(t=e.target.closest("a"),1<e.which)||e.metaKey||e.ctrlKey||t&&(t.addEventListener("click",function(e){1337!=e.detail&&e.preventDefault()},{capture:!0,passive:!1,once:!0}),e=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1,detail:1337}),t.dispatchEvent(e))}function isPreloadable(e){if(e&&e.href&&(!_useWhitelist||"instant"in e.dataset)){if(e.origin!=location.origin)if(!(_allowExternalLinks||"instant"in e.dataset)||!_chromiumMajorVersionInUserAgent)return;if(["http:","https:"].includes(e.protocol)&&("http:"!=e.protocol||"https:"!=location.protocol)&&(_allowQueryString||!e.search||"instant"in e.dataset)&&!(e.hash&&e.pathname+e.search==location.pathname+location.search||"noInstant"in e.dataset))return!0}}function preload(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"auto";_preloadedList.has(e)||((t=document.createElement("link")).rel="prefetch",t.href=e,t.fetchPriority=n,t.as="document",document.head.appendChild(t),_preloadedList.add(e))}init();